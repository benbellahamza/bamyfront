<div class="flex flex-col min-h-screen bg-gradient-to-br from-slate-100 to-slate-300">
  <!-- HEADER -->
  <header class="bg-slate-700 text-white p-4 border-b-4 border-double border-slate-500 rounded-lg relative flex items-center justify-between">
    <div class="flex items-center gap-4">
      <img src="assets/images/bamytrucks.png" alt="Logo Renault" class="w-20 h-20 object-contain" />
      <span class="text-white font-bold text-lg">BAMY TRUCKS</span>
    </div>
    <h1 class="absolute left-1/2 transform -translate-x-1/2 text-xl font-bold font-mono tracking-widest uppercase text-center">
      Ajouter un utilisateur
    </h1>
  </header>

  <!-- FORMULAIRE CENTRÉ -->
  <main class="flex-grow flex items-center justify-center">
    <div class="w-full max-w-2xl bg-white p-10 rounded-lg shadow-xl animate-fade-in">
      <form [formGroup]="userForm" (ngSubmit)="onSubmit()" class="space-y-6">
        
        <!-- NOM -->
        <div>
          <label class="block text-slate-600 font-semibold mb-1">Nom</label>
          <input type="text" formControlName="nom" placeholder="Veuillez saisir le nom"
                 class="input input-bordered w-full text-black placeholder:text-gray-400 focus:ring-2 focus:ring-blue-400 transition" />
          <div *ngIf="userForm.get('nom')?.invalid && userForm.get('nom')?.touched" class="text-red-600 text-xs mt-1">
            Le nom est obligatoire.
          </div>
        </div>

        <!-- PRÉNOM -->
        <div>
          <label class="block text-slate-600 font-semibold mb-1">Prénom</label>
          <input type="text" formControlName="prenom" placeholder="Veuillez saisir le prénom"
                 class="input input-bordered w-full text-black placeholder:text-gray-400 focus:ring-2 focus:ring-blue-400 transition" />
          <div *ngIf="userForm.get('prenom')?.invalid && userForm.get('prenom')?.touched" class="text-red-600 text-xs mt-1">
            Le prénom est obligatoire.
          </div>
        </div>

        <!-- EMAIL -->
        <div>
          <label class="block text-slate-600 font-semibold mb-1">Email</label>
          <input type="email" formControlName="email" placeholder="Veuillez saisir un email valide"
                 class="input input-bordered w-full text-black placeholder:text-gray-400 focus:ring-2 focus:ring-blue-400 transition" />
          <div *ngIf="userForm.get('email')?.invalid && userForm.get('email')?.touched" class="text-red-600 text-xs mt-1">
            Un email valide est requis.
          </div>
        </div>

        <!-- MOT DE PASSE -->
        <div>
          <label class="block text-slate-600 font-semibold mb-1">Mot de passe</label>
          <input type="password" formControlName="password" placeholder="Veuillez choisir un mot de passe"
                 class="input input-bordered w-full text-black placeholder:text-gray-400 focus:ring-2 focus:ring-blue-400 transition" />
          <div *ngIf="userForm.get('password')?.invalid && userForm.get('password')?.touched" class="text-red-600 text-xs mt-1">
            Le mot de passe doit contenir au moins 6 caractères.
          </div>
        </div>

        <!-- RÔLE -->
        <div>
          <label class="block text-slate-600 font-semibold mb-1">Rôle</label>
          <select formControlName="role"
                  class="select select-bordered w-full text-black focus:ring-2 focus:ring-blue-400 transition">
            <option value="">-- Sélectionner un rôle --</option>
            <option *ngFor="let r of roles" [value]="r">{{ r }}</option>
          </select>
          <div *ngIf="userForm.get('role')?.invalid && userForm.get('role')?.touched" class="text-red-600 text-xs mt-1">
            Le rôle est obligatoire.
          </div>
        </div>

        <!-- BOUTON AJOUTER -->
        <div class="flex justify-end">
          <button type="submit" class="btn btn-primary" [disabled]="userForm.invalid">
            ✅ Ajouter
          </button>
        </div>
      </form>

      <!-- MESSAGES -->
      <div *ngIf="successMessage" class="text-green-600 text-sm text-center mt-4">{{ successMessage }}</div>
      <div *ngIf="errorMessage" class="text-red-600 text-sm text-center mt-4">{{ errorMessage }}</div>
    </div>
  </main>

  <!-- ✅ FOOTER FINAL UNIFIÉ -->
  <footer class="fixed bottom-0 left-0 right-0 bg-gradient-to-r from-slate-800 to-slate-700 text-white text-center py-3 text-xs tracking-widest shadow-inner">
    &copy; BamyGuest
  </footer>
</div>

